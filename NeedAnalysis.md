# “火拼QQ堂”游戏的需求分析

## 游戏逻辑

### 地图

#### 地板背景

地图的最底层, 游戏人物行走的区域

地图初始化时产生, 游戏全程保持不变, 处于游戏区域绘图的最底层

#### 可破坏场景道具

可以被炸弹破坏的场景道具, 所处位置角色不可站立

地图初始化时产生, 当炸弹的辐射范围覆盖某个可破坏场景道具时, 该可破坏场景道具被清除

当炸弹的辐射范围覆盖多个可破坏场景道具时, 上下左右四个方向每个方向只破坏距离炸弹最近的可破坏场景道具

当可破坏场景道具被炸弹破坏时, 有一定几率在可破坏场景道具原位置产生可拾取游戏道具

#### 不可破坏场景道具

不可以被破坏的场景道具, 所处位置角色不可站立

即使炸弹的辐射范围覆盖多个可破坏场景道具时, 也不消失. 同时也将阻挡炸弹的辐射范围的延伸

#### 陷阱类场景道具

该道具可被炸弹破坏, 所处位置角色可以站立

当角色处于该场景道具处, 触发该道具的特殊效果

### 角色

#### 角色状态

- 生存: 角色可以在游戏区域进行游戏
- 死亡: 角色游戏结束,不能再参与游戏. 被炸弹范围覆盖的生存角色将由生存状态转换为被困状态.
- 被困: 角色被炸弹爆炸范围覆盖后转换的状态, 处于该状态的角色不能进行任何操作. 该状态最多持续5秒, 在该状态期间若被敌人碰到,角色死亡; 在该状态期间若被队友碰到, 则角色复活, 转换为生存状态; 若在该状态期间无人碰到, 则角色在5秒后死亡.

#### 角色操纵

用户可以通过上下左右四个按键操纵角色在地图区域行动.

用户可以通过空格键在当前位置放置炸弹.

用户可以通过数字键释放装备栏已存在的游戏道具

#### 属性

- 可放置炸弹数量: 角色同一时间可以放置的最多的炸弹数量
- 炸弹威力: 炸弹覆盖范围的大小
- 横向速度: 角色在地图中行走的速度
- 纵向速度: 角色在地图中行走的速度
- 是否悬浮
- 是否行动反向
- 角色种类
- 可用道具

#### 角色外观

通过纸娃娃系统可以改变角色在游戏中的外观

#### 角色种类

- 春丽	 

- 海王子
	 
- 小倩
	 
- 火影

### 炸弹

#### 机制

炸弹可以被角色放置在任何角色可以到达的地图位置

炸弹在放置后3秒爆炸, 爆炸后炸弹消失

炸弹爆炸后, 其爆炸范围为以炸弹为中心的十字区域

十字区域的大小视放置炸弹的角色的威力而定

若炸弹覆盖范围包含地图道具, 则该地图道具将阻止炸弹范围继续延伸. 同时若该地图道具是可破坏的地图道具, 则该地图道具在炸弹爆炸后消失.

#### 属性

- 爆炸剩余时间
- 威力
- 是否可见

### 道具

####  基础道具

接触即收集的道具。不需要使用，自动加强角色能力或增加玩家 QQ 堂币。

 
- 糖泡 	最基本而且最重要的道具，增加角色放 QQ 糖的数量。多获得一个，就能多放一个 QQ 糖。 
 
- 药水 	蓝色的水瓶，可以增加角色 QQ 糖的威力。多获得一个， QQ 糖的威力就会增加一格。 
 
- 飞鞋 	提升角色的移动速度，得到的越多，跑的越快。 
 
- 问号 	吃后随机增加或减少 1~2 基础能力 (QQ 糖威力 /QQ 糖数量 / 行走速度 ) 。 
 
- 铜钱币 	增加玩家 50 【 QQ 糖币】 
 
- 银钱币 	增加玩家 100 【 QQ 糖币】 
 
- 金钱币 	增加玩家 200 【 QQ 糖币】 
 
- 钱币袋 	增加玩家 500 【 QQ 糖币】 
 
- 大宝箱 	增加玩家 1000 【 QQ 糖币】 

#### 功能道具

需要使用的道具。如果处于道具栏第一位，只需按 CTRL 即可使用。也可以通过按快捷键 (123456) 来使用。

 
- 香蕉 	在路上放下，踩上的人会划到路的尽头。 
 
- 水滴 	在一定时间里自己放的 QQ 糖将隐形，只有自己队的人可以看到。 
 
- 慢慢胶 	可以放置三个慢慢胶，踩到的人会被粘住，变为蓝色闪烁，并且移动速度减到最慢 ( 时间 10 秒 ) 。 
 
- 探测器 	利用先进的红外线，可以探测到附近隐藏的道具。 
 
- 激光障碍柱 	可以在两个障碍之间设置激光柱，通过激光柱的人都将被捉进果冻。 
 
- 氧气瓶 	如果不慎被果冻困住，它可以让你在果冻里坚持更长的时间。 
 
- 叉子 	如果不慎被果冻困住，可以使用它脱离危险。 
 
- 飞镖 	用来引爆雷。飞镖的有效射程是 3/5 个屏幕的距离。被射中的雷会立即爆炸。 
 
- 控制器 	控制自己放置的雷，让它在自己希望的时候爆炸。 

#### 变身道具

接触即收集的道具，不需要使用，自动变化为相应造型，同时能力改变。已经是变形状态的角色，再解触变身类道具无效。

接触变身道具有 0.2 秒的变身烟雾，此时无敌，不可以行动，变身死亡时候有 0.8 秒的变身消失动作，这时候无敌，同时也不可以操作。 

 
- 幽灵 	增加能力【隐形】。变身为幽灵，幽灵为半隐形状态，只有自己的队员才可以看到。 
 
- 咕咕鸟 	增加能力【飞行】。变身为会飞的鸟，咕咕鸟为悬浮状态，可以穿越各种障碍，唯一的缺点是无法获得任何道具。 
 
- 疾风 	增加能力【极速】。变身速度很快的鬼，角色的移动速度将达到最快 ( 不受人物上限限制 ) 。 
  
- 糖果王 	增加能力【无限】。变身为糖果之王，可以随心所欲的放置炸弹 ( 不受人物上限限制 ) 。 
 
- 熊猫宝宝 	增加能力【热血】。变身强壮的熊猫宝宝，可以踢开单个炸弹并且能推动可炸掉的箱子。 
 
- 小魔鬼 	增加能力【暴走】。变身为闪着蓝光的恶魔，其移动速度和放弹数都是最大的，但是行动和玩家操作相反。 
 
- 大螃蟹 	增加能力【横行】。变身为横行霸道的大螃蟹，其左右移动速度最快，上下移动速度最慢。 
 
- 斧头帮主 	增加能力【自杀】。变身为斧头帮帮主，拥有 9 个可以飞出的斧头道具 , 可以将摆放在前方的炸弹引爆。 

### 游戏规则

#### 胜负条件

- [ 胜利条件 ] 敌方队伍所有的队员全灭； 

- [ 失败条件 ] 我方队伍所有的队员全灭。 

#### 每局时间

每局游戏时间规定 4 分钟，即 240 秒。 

#### 救人 / 人物死亡

如果玩家被爆炸的 QQ 糖浆的黏液碰到，即被 QQ 糖浆包围成一团果冻给困住，人物不能移动。如果此时我方队友碰触被困角色，果冻会解除，被困角色恢复自由，继续游戏；如果被困角色被敌方碰触或 5 秒内没有我方队员营救，则果冻爆炸，被困的人物死亡。 

## 用户

### 属性

- 用户名
- 密码
- 积分
- 会员状态
- 虚拟币
- 虚拟商品拥有状态

### 用例

- 注册
- 登陆
- 退出
- 进入房间
- 进入游戏桌
- 开始游戏
- 聊天
- 进行游戏
- 购买虚拟商品
- 装备虚拟商品

## 可视化界面

### 注册界面

### 登陆界面

### 游戏大厅界面

### 游戏房间界面

### 游戏桌界面

### 游戏界面

### 商城界面

### 聊天窗口

聊天窗口悬浮在

- 游戏大厅界面
- 游戏房间界面
- 游戏桌界面
- 游戏界面
- 商城界面

这些界面之上

## 网络通信

使用C/S模型

服务器IP地址固定, 端口固定

客户端连接到服务器进行游戏

## 数据库

通过数据库存储

- 用户信息
- 道具信息
- 地图信息
- 角色信息
